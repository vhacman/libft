# **************************************************************************** #
#                                Variables                                     #
# **************************************************************************** #

NAME        = libft.a
CC          = gcc
CFLAGS      = -Wall -Wextra -Werror
AR          = ar rcs
RM          = rm -f
#directive to silent make command
MAKEFLAGS	+= -s

# Directories
SRC_DIR     = SRC
OBJ_DIR     = OBJ

# Get all .c source files from the SRC directory
SRCS        = $(wildcard $(SRC_DIR)/*.c)

# Create a list of object files in the OBJ directory corresponding to the sources in SRC
OBJS        = $(patsubst $(SRC_DIR)/%.c, $(OBJ_DIR)/%.o, $(SRCS))

# **************************************************************************** #
#                                  Rules                                       #
# **************************************************************************** #

all: $(NAME)
		@echo "\033[1;36m▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄\033[0m"
		@echo "\033[1;36m██░█████▄██░▄▄▀█░▄▄█▄░▄███░███▄██░▄▄▀█░▄▄▀█░▄▄▀█░▄▄▀█░██░███▀▄▀█▀▄▄▀█░▄▀▄░█▀▄▄▀██▄██░██░▄▄█░▄▀███░▄▄█░██░█▀▄▀█▀▄▀█░▄▄█░▄▄█░▄▄█░▄▄█░██░█░██░██░██░\033[0m"
		@echo "\033[1;36m██░█████░▄█░▄▄▀█░▄███░████░███░▄█░▄▄▀█░▀▀▄█░▀▀░█░▀▀▄█░▀▀░███░█▀█░██░█░█▄█░█░▀▀░██░▄█░██░▄▄█░█░███▄▄▀█░██░█░█▀█░█▀█░▄▄█▄▄▀█▄▄▀█░▄██░██░█░██░██░▀▀░\033[0m"
		@echo "\033[1;36m██░▀▀░█▄▄▄█▄▄▄▄█▄████▄████▄▄█▄▄▄█▄▄▄▄█▄█▄▄█▄██▄█▄█▄▄█▀▀▀▄████▄███▄▄██▄███▄█░████▄▄▄█▄▄█▄▄▄█▄▄████▄▄▄██▄▄▄██▄███▄██▄▄▄█▄▄▄█▄▄▄█▄████▄▄▄█▄▄█▄▄█▀▀▀▄\033[0m"
		@echo "\033[1;36m▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀   \033[0m"


$(NAME): $(OBJS)
	$(AR) $@ $^

# Pattern rule for compiling each source file from SRC_DIR into an object file in OBJ_DIR.
$(OBJ_DIR)/%.o: $(SRC_DIR)/%.c
	@mkdir -p $(OBJ_DIR)
	$(CC) $(CFLAGS) -Iincludes -c $< -o $@

clean:
	rm -rf $(OBJ_DIR)
	@echo "\033[1;36m▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄\033[0m"
	@echo "\033[1;36m██░▄▄▀█░██░▄▄█░▄▄▀█░▄▄▀█░▄▄█░▄▀████░▄▄▄░█░██░█▀▄▀█▀▄▀█░▄▄█░▄▄█░▄▄█░▄▄█░██░█░██░██░██░\033[0m"
	@echo "\033[1;36m██░████░██░▄▄█░▀▀░█░██░█░▄▄█░█░████▄▄▄▀▀█░██░█░█▀█░█▀█░▄▄█▄▄▀█▄▄▀█░▄██░██░█░██░██░▀▀░\033[0m"
	@echo "\033[1;36m██░▀▀▄█▄▄█▄▄▄█▄██▄█▄██▄█▄▄▄█▄▄█████░▀▀▀░██▄▄▄██▄███▄██▄▄▄█▄▄▄█▄▄▄█▄████▄▄▄█▄▄█▄▄█▀▀▀▄\033[0m"
	@echo "\033[1;36m▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀\033[0m"

fclean: clean
	$(RM) $(NAME)

re: fclean all

.PHONY: all clean fclean re
